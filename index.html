<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spider Monkey ğŸ’–</title>

<style>
body{
margin:0;
font-family:-apple-system, BlinkMacSystemFont, sans-serif;
background:black;
color:white;
overflow:hidden;
text-align:center;
}

/* INTRO */
.intro{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
display:flex;
align-items:center;
justify-content:center;
font-size:28px;
animation:fadeIn 2s;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* CHAT */
.chat{
max-width:420px;
margin:60px auto;
padding:15px;
}
.bubble{
padding:12px 16px;
border-radius:20px;
margin:10px 0;
max-width:80%;
}
.me{background:#ff2e63;margin-left:auto}
.them{background:#333}

/* BOTONES */
button{
font-size:20px;
padding:14px 28px;
margin:10px;
border:none;
border-radius:20px;
}
#yes{background:#ff2e63;color:white}
#no{background:#888;color:white}

/* ANILLO */
.ring{
font-size:80px;
animation:pulse 1s infinite;
}
@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.2)}
100%{transform:scale(1)}
}

/* FLAPPY */
.player{
position:absolute;
left:50px;
top:200px;
font-size:35px;
}

/* OBSTACULOS */
.obstacle{
position:absolute;
font-size:35px;
}

/* GALERIA */
.gallery{
display:flex;
overflow-x:auto;
gap:20px;
padding:30px;
scroll-snap-type:x mandatory;
}
.gallery img{
height:260px;
border-radius:24px;
scroll-snap-align:center;
}

/* CONFETI */
.confetti{
position:absolute;
width:8px;
height:8px;
animation:fall 4s linear infinite;
}
@keyframes fall{
to{transform:translateY(100vh) rotate(720deg)}
}
</style>
</head>

<body>

<div id="app" class="intro">
Para Spider Monkey ğŸ’–
</div>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3">
</audio>

<script>
const app=document.getElementById("app");
const music=document.getElementById("music");

document.body.addEventListener("click",()=>music.play(),{once:true});

/* ================= INTRO ================= */
setTimeout(iniciarChat,2500);

/* ================= CHAT ================= */
function iniciarChat(){
app.className="";
app.innerHTML=`
<div class="chat">
<div class="bubble them">Hola Spider Monkey ğŸ’ğŸ’–</div>
<div class="bubble me">He estado pensando en nosotros...</div>
<div class="bubble me">Pero primero debes superar una prueba ğŸ˜</div>
</div>
<button onclick="flappy()">Aceptar reto</button>
`;
}

/* ================= FLAPPY LOVE ================= */
function flappy(){
app.innerHTML=`<h2>Evita los corazones rotos ğŸ’”</h2>`;
const player=document.createElement("div");
player.className="player";
player.innerHTML="ğŸ’–";
document.body.appendChild(player);

let y=200;
let velocity=0;
let gravedad=0.6;
let vivo=true;

document.onclick=()=>velocity=-8;

function loop(){
velocity+=gravedad;
y+=velocity;
player.style.top=y+"px";

if(y>window.innerHeight-40) perder();

requestAnimationFrame(loop);
}
loop();

function crear(){
const o=document.createElement("div");
o.className="obstacle";
o.innerHTML="ğŸ’”";
o.style.left=window.innerWidth+"px";
o.style.top=Math.random()*window.innerHeight+"px";
document.body.appendChild(o);

let x=window.innerWidth;

function mover(){
if(!vivo)return;
x-=4;
o.style.left=x+"px";

if(x<70 && Math.abs(parseInt(o.style.top)-y)<40) perder();
if(x<-50){o.remove();}

requestAnimationFrame(mover);
}
mover();
}

setInterval(crear,1400);

function perder(){
vivo=false;
alert("Intenta otra vez ğŸ˜¢");
location.reload();
}

setTimeout(()=>{
vivo=false;
document.body.innerHTML="";
mostrarGaleria();
},15000);
}

/* ================= GALERIA ================= */
function mostrarGaleria(){
app.innerHTML=`
<h1>Nuestros recuerdos ğŸ’–</h1>
<div class="gallery">
<img src="imagenes/cb54e6c6-fd22-4476-92f7-6f4a53fd4aa6.JPG">
<img src="imagenes/7a9e6d24-3854-49d0-b469-00afff08a578.JPG">
<img src="imagenes/64acd6f3-1c0d-4b9b-bc3c-4b60a3905ef5.JPG">
<img src="imagenes/f6be79c3-c7dc-4404-a373-8950c1f1a71f.JPG">
<img src="imagenes/99381e8a-af43-4b00-a0fe-6e55344a2247.JPG">
<img src="imagenes/e3c879c1-3a8b-4bec-83e8-0ac75c13967e.JPG">
<img src="imagenes/7e679383-10c4-4375-b71a-b75729b5e9be.JPG">
<img src="imagenes/9db2aad9-d146-49ce-9e52-a078abc63ea8.JPG">
</div>
<button onclick="propuesta()">Continuar ğŸ’˜</button>
`;
}

/* ================= PROPUESTA ================= */
function propuesta(){
app.innerHTML=`
<h1>Spider Monkey ğŸ’–</h1>
<p>DespuÃ©s de todos nuestros recuerdos...</p>
<div class="ring">ğŸ’</div>
<h2>Â¿Quieres ser mi Valentine?</h2>
<button id="yes">SÃ â¤ï¸</button>
<button id="no">NO ğŸ˜¢</button>
`;

let scale=1;
document.getElementById("no").onclick=function(){
scale-=0.15;
if(scale<=0.1)this.style.display="none";
else this.style.transform=`scale(${scale})`;
};

document.getElementById("yes").onclick=finalFeliz;
}

/* ================= FINAL ================= */
function finalFeliz(){
document.body.innerHTML=`
<h1 style="margin-top:120px;color:#ff2e63">
SPIDER MONKEY ğŸ’–
</h1>
<h2>Ahora oficialmente eres mi Valentine ğŸ˜</h2>
`;
fuegos();
}

function fuegos(){
for(let i=0;i<200;i++){
const c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"vw";
c.style.background=`hsl(${Math.random()*360},100%,50%)`;
c.style.animationDuration=(2+Math.random()*3)+"s";
document.body.appendChild(c);
}
}
</script>

</body>
</html>
